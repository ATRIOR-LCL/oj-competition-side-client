<!DOCTYPE html>
<html>
<head>
    <title>重定向测试页面</title>
    <meta charset="UTF-8">
</head>
<body>
    <h1>重定向拦截测试</h1>
    <p>这是一个测试页面，用于验证重定向拦截功能。</p>
    
    <button onclick="testRedirect()">测试重定向到外部域名</button>
    <button onclick="testAllowedRedirect()">测试重定向到允许域名</button>
    
    <div id="output"></div>
    
    <script>
        function testRedirect() {
            document.getElementById('output').innerHTML = '尝试重定向到 baidu.com...';
            // 模拟重定向到不允许的域名
            setTimeout(() => {
                window.location.href = 'https://www.baidu.com';
            }, 1000);
        }
        
        function testAllowedRedirect() {
            document.getElementById('output').innerHTML = '尝试重定向到 sdutacm.cn...';
            // 模拟重定向到允许的域名
            setTimeout(() => {
                window.location.href = 'https://acm.sdut.edu.cn';
            }, 1000);
        }
        
        // 记录当前页面信息
        console.log('当前页面URL:', window.location.href);
        document.getElementById('output').innerHTML = '当前页面: ' + window.location.href;
    </script>
</body>
</html>
